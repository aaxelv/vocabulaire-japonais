<!-- Il faut ici afficher les comtpes déjà créer, on choisit d'afficher toutes les infomations -->

<div class="container">
	<br>
	<mat-card>
		<button mat-raised-button class= 'btn btn-primary' routerLink = '/subscribe'> Créer un nouvel utilisateur</button>
		<button mat-raised-button class= 'btn btn-danger' (click)= 'disconnect()'> Se déconnecter</button>
		<br><br>
		<table mat-table [dataSource] = "account" >
			<ng-container matColumnDef = "username" >
				<th mat-header-cell *matHeaderCellDef class = "cell"> Nom d'utilisateur </th>
				<td mat-cell *matCellDef = "let element" class = "cell"> {{element.username}} </td>
			</ng-container>

			<ng-container matColumnDef = "class">
				<th mat-header-cell *matHeaderCellDef class = "cell"> Class </th>
				<td mat-cell *matCellDef = "let element" class = "cell"> {{element.class}} </td>
			</ng-container>

			<ng-container matColumnDef = "connection">
				<th mat-header-cell *matHeaderCellDef class = "cell"> Connection </th>
				<td mat-cell *matCellDef = "let element" class = "cell"> {{element.connection}} </td>
			</ng-container>

			<ng-container matColumnDef = "actions">
				<th mat-header-cell *matHeaderCellDef class="cell"> Actions </th>
				<td mat-cell *matCellDef = "let element" class="cell" > 
					<button mat-button color='primary' (click)= "editAccount(element._id)" [disabled] = "element.status === 'Validé'">Edit</button>
					<button mat-button color='warn' (click)= "deleteAccount(element._id)" [disabled] = "element.status === 'Validé'">Delete</button>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef= "displayedColumns"></tr>
			<tr mat-row *matRowDef= "let row; columns: displayedColumns;"></tr>	
		</table>
	</mat-card>
</div>